DROP SCHEMA CRAWLER
;
CREATE SCHEMA CRAWLER
;
 
SET SCHEMA CRAWLER
;
 DROP TABLE CRAWLERBYACCOUNT
;
CREATE COLUMN TABLE CRAWLERBYACCOUNT ( CRAWLER_ID INTEGER PRIMARY KEY GENERATED BY DEFAULT AD IDENTITY,
	 ACCOUNT VARCHAR(500),
	 ACCOUNT_DESC VARCHAR(1000),
	 START_TIME TIMESTAMP,
	 END_TIME TIMESTAMP,
	 MEDIA VARCHAR(50),
	 LAST_CRAWL_TIME TIMESTAMP,
	 INTERVALS BIGINT,
	 STATUS VARCHAR(20) DEFAULT 'INITIAL'
	 )
;
--DROP SEQUENCE CRAWLERBYACCOUNTSEQ;
--CREATE SEQUENCE CRAWLERBYACCOUNTSEQ START WITH 1 INCREMENT BY 1;
 DROP TABLE CRAWLERBYKEYWORDS
;
CREATE COLUMN TABLE CRAWLERBYKEYWORDS ( CRAWLER_ID INTEGER PRIMARY KEY GENERATED BY DEFAULT AD IDENTITY,
	 KEYWORDS VARCHAR(1000),
	 START_TIME TIMESTAMP,
	 END_TIME TIMESTAMP,
	 MEDIA VARCHAR(50),
	LAST_CRAWL_TIME TIMESTAMP,
	 INTERVALS BIGINT,
 	 STATUS VARCHAR(20) DEFAULT 'INITIAL'
	)
;
--DROP SEQUENCE CRAWLERBYKEYWORDSSEQ;
--CREATE SEQUENCE CRAWLERBYKEYWORDSSEQ START WITH 1 INCREMENT BY 1;

DROP TABLE MAPPING;
CREATE COLUMN TABLE MAPPING 
(
	MEDIA_NAME VARCHAR(50),
	TYPE VARCHAR(50),
	KEY_TYPE VARCHAR(50),
	HDFS_PATH VARCHAR(500),
	HIVE_SCHEMA VARCHAR(50),
	HIVE_TABLE VARCHAR(50),
	PARTITIONED VARCHAR(10),
	PARTITION_COLUMN VARCHAR(50)
);

DROP TABLE TRADITIONALBYRSS;
CREATE COLUMN TABLE TRADITIONALBYRSS
(
	RSS_ID INTEGER GENERATED BY DEFAULT AS IDENTITY,
	MEDIA_NAME VARCHAR(50),
	RSS VARCHAR(500),
	LAST_CRAWL_TIME TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
	INTERVALS INTEGER DEFAULT 480,
	STATUS VARCHAR(20) DEFAULT 'READY'
);

DROP TABLE TRADITIONALBYWEBPAGE;
CREATE COLUMN TABLE TRADITIONALBYWEBPAGE
(
	WEBPAGE_ID INTEGER GENERATED BY DEFAULT AS IDENTITY,
	MEDIA_NAME VARCHAR(50),
	LAST_CRAWL_TIME TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
	INTERVALS INTEGER DEFAULT 480,
	STATUS VARCHAR(20) DEFAULT 'INITIAL'
);

DROP TABLE TRADITIONALURLS;
CREATE COLUMN TABLE TRADITIONALURLS
(
	TRADITIONALURLS VARCHAR(3000)
);
